<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="jakarta.faces.facelets"
        xmlns:f="jakarta.faces.core"
        xmlns:p="primefaces"
        template="templates/template.xhtml"
>
    <ui:define name="title">Create Adoption</ui:define>
    <ui:define name="content">
        <div class="flex align-items-center justify-content-center flex-column">
            <h1 class="m-0 font-semibold text-900 text-xl line-height-3">
                Welcome back, #{loginMB.username}!
            </h1>
            <p class="mb-5 mt-0 text-base text-600">
                Here you can create a new adoption
            </p>
        </div>
        <section>
            <div class="flex align-items-center justify-content-center">
                <div class="surface-card p-4 shadow-2 border-round w-full lg:w-3 md:w-7">
                    <h:form enctype="multipart/form-data">
                        <p:messages id="message">
                            <p:autoUpdate/>
                        </p:messages>
                        <label for="listingTitle" class="block text-900 font-medium mb-2">Title</label>
                        <p:inputText id="listingTitle" value="#{listingMB.newListing.title}"
                                     styleClass="w-full mb-3" required="true" requiredMessage="Title is required"/>
                        <label for="phone"
                               class="block text-900 font-medium mb-2">How can we contact you?</label>
                        <p:inputText id="phone" value="#{listingMB.newListing.phone}"
                                     styleClass="w-full mb-3" required="true"
                                     requiredMessage="Phone number is required"/>
                        <label for="animalType"
                               class="block text-900 font-medium mb-2">What kind of animal is this?</label>
                        <p:selectOneMenu id="animalType" value="#{listingMB.animal}" label="Animal type"
                                         alwaysDisplayLabel="false" styleClass="w-full mb-3">
                            <f:selectItems value="#{tableMB.animals}"/>
                        </p:selectOneMenu>
                        <label for="location" class="block text-900 font-medium mb-2">Location</label>
                        <p:selectOneMenu id="location" value="#{listingMB.city}" label="City"
                                         alwaysDisplayLabel="false" styleClass="w-full mb-3">
                            <f:selectItems value="#{tableMB.cities}"/>
                        </p:selectOneMenu>
                        <label for="description" class="block text-900 font-medium mb-2">Description</label>
                        <p:inputTextarea id="description" value="#{listingMB.newListing.description}"
                                         rows="6" cols="33" styleClass="w-full mb-3" maxlength="100" required="true"
                                         requiredMessage="Description is required"/>
                        <p:fileUpload id="upload" label="Attach photo" value="#{listingMB.file}" mode="simple"
                                      skinSimple="true" styleClass="w-full mb-3"/>
                        <p:commandButton id="submit" value="Submit" ajax="false"
                                         action="#{listingMB.createListing()}"
                                         icon="pi pi-check" styleClass="w-full mb-2"/>
                    </h:form>
                </div>
            </div>
        </section>
    </ui:define>
</ui:composition>